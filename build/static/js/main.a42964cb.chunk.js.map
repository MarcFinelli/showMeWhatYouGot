{"version":3,"sources":["interval.tsx","App.tsx","Gem.png","reportWebVitals.ts","index.tsx"],"names":["useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","canvasX","initialDragon","initialGem","scale","App","canvasRef","useState","dragon","setDragon","gem","setGem","direction","setDirection","setDelay","gameOver","setGameOver","score","setScore","newDragon","newDragonPiece","unshift","head","i","length","s","checkCollision","Number","localStorage","getItem","setItem","JSON","stringify","coord","map","Math","floor","random","newGem","gemGet","pop","runGame","Gem","document","getElementById","ctx","getContext","setTransform","clearRect","window","innerWidth","innerHeight","fillStyle","forEach","x","y","fillRect","drawImage","onKeyDown","e","key","changeDirection","src","alt","width","className","ref","height","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"uNA2BeA,MAzBf,SAAqBC,EAAsBC,GAC1C,IAAMC,EAAgBC,iBAAOH,GAE7BI,qBACC,WACCF,EAAcG,QAAUL,IAEzB,CAAEA,IAGHI,qBACC,WAEC,GAAc,OAAVH,EAAJ,CAIA,IAAMK,EAAKC,aAAY,kBAAML,EAAcG,YAAWJ,GAEtD,OAAO,kBAAMO,cAAcF,OAE5B,CAAEL,K,OClBEQ,EAAU,IAEVC,EAAgB,CAAE,CAAE,EAAG,IAAM,CAAE,EAAG,KAClCC,EAAa,CAAE,GAAI,IACnBC,EAAQ,GA0HCC,MAvHf,WACC,IAAMC,EAAYX,iBAAiC,MACnD,EAA8BY,mBAASL,GAAvC,mBAAQM,EAAR,KAAgBC,EAAhB,KACA,EAAwBF,mBAASJ,GAAjC,mBAAQO,EAAR,KAAaC,EAAb,KACA,EAAoCJ,mBAAS,CAAE,GAAI,IAAnD,mBAAQK,EAAR,KAAmBC,EAAnB,KACA,EAA4BN,mBAAwB,MAApD,mBAAQd,EAAR,KAAeqB,EAAf,KACA,EAAkCP,oBAAS,GAA3C,mBAAQQ,EAAR,KAAkBC,EAAlB,KACA,EAA4BT,mBAAS,GAArC,mBAAQU,EAAR,KAAeC,EAAf,KA2FA,OAxFA3B,GAAY,kBAwDZ,WACC,IAAM4B,EAAS,YAAQX,GACjBY,EAAiB,CAAED,EAAU,GAAG,GAAKP,EAAU,GAAIO,EAAU,GAAG,GAAKP,EAAU,IACrFO,EAAUE,QAAQD,GAxBnB,SAAwBE,GACvB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAKE,OAAQD,IAChC,GAAID,EAAKC,GAAK,GAlDH,GAkDQD,EAAKC,IAActB,EAAS,OAAO,EAFhB,oBAIvBO,GAJuB,IAIvC,2BAAwB,CAAC,IAAdiB,EAAa,QACvB,GAAIH,EAAK,KAAOG,EAAE,IAAMH,EAAK,KAAOG,EAAE,GAAI,OAAO,GALX,8BAOvC,OAAO,EAkBHC,CAAeN,KAClBN,EAAS,MACTE,GAAY,GAzCTC,EAAQU,OAAOC,aAAaC,QAAQ,cACvCD,aAAaE,QAAQ,WAAYC,KAAKC,UAAUf,MAuBlD,SAAgBE,GACf,IAAIc,EAAQvB,EAAIwB,KAAI,kBAAMC,KAAKC,MAAMD,KAAKE,SAAWpC,EAAUG,MAC/D,GAAIe,EAAU,GAAG,KAAOT,EAAI,IAAMS,EAAU,GAAG,KAAOT,EAAI,GAAI,CAC7D,IAAI4B,EAASL,EAGb,OAFAf,EAASD,EAAQ,GACjBN,EAAO2B,IACA,EAER,OAAO,GAYFC,CAAOpB,IACXA,EAAUqB,MAEX/B,EAAUU,GApEOsB,KAAWhD,GAE7BG,qBACC,WACC,IAAI8C,EAAMC,SAASC,eAAe,OAClC,GAAItC,EAAUT,QAAS,CACtB,IACMgD,EADSvC,EAAUT,QACNiD,WAAW,MAC1BD,IACHA,EAAIE,aAAa3C,EAAO,EAAG,EAAGA,EAAO,EAAG,GACxCyC,EAAIG,UAAU,EAAG,EAAGC,OAAOC,WAAYD,OAAOE,aAC9CN,EAAIO,UAAY,UAChB5C,EAAO6C,SAAQ,mCAAGC,EAAH,KAAMC,EAAN,YAAcV,EAAIW,SAASF,EAAGC,EAAG,EAAG,MACnDV,EAAIY,UAAUf,EAAKhC,EAAI,GAAIA,EAAI,GAAI,EAAG,OAIzC,CAAEF,EAAQE,EAAKK,IAwEf,sBAAK2C,UAAW,SAACC,GAAD,OAlBjB,SAAyBA,GACxB,OAAQA,EAAEC,KACT,IAAK,IACJ/C,EAAa,EAAG,EAAG,IACnB,MACD,IAAK,IACJA,EAAa,CAAE,GAAI,IACnB,MACD,IAAK,IACJA,EAAa,CAAE,EAAG,IAClB,MACD,IAAK,IACJA,EAAa,CAAE,EAAG,KAMGgD,CAAgBF,IAAvC,UACC,qBAAK7D,GAAG,MAAMgE,IChHF,i9GDgHkBC,IAAI,MAAMC,MAAM,OAC9C,wBAAQC,UAAU,WAAWC,IAAK5D,EAAW0D,MAAK,UAAK/D,EAAL,MAAkBkE,OAAM,UA3G7D,IA2G6D,QACzEpD,GAAY,qBAAKkD,UAAU,WAAf,uBACb,qBAAKA,UAAU,QAAf,wBACA,wBAAQG,QApEV,WACC3D,EAAUP,GACVS,EAAOR,GACPU,EAAa,CAAE,EAAG,IAClBC,EA1CgB,KA2ChBI,EAAS,GACTF,GAAY,IA8DYiD,UAAU,aAAjC,mBACA,sBAAKA,UAAU,WAAf,UACC,yCAAYhD,KACZ,8CAAiBW,aAAaC,QAAQ,kBAEvC,sBAAKoC,UAAU,YAAf,UACC,uCACA,yCACA,yCACA,iDE/GWI,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrC,SAASC,eAAe,SAM1ByB,M","file":"static/js/main.a42964cb.chunk.js","sourcesContent":["import { useEffect, useRef } from \"react\"\n\nfunction useInterval(callback: () => void, delay: number | null) {\n\tconst savedCallback = useRef(callback)\n\n\tuseEffect(\n\t\t() => {\n\t\t\tsavedCallback.current = callback\n\t\t},\n\t\t[ callback ]\n\t)\n\n\tuseEffect(\n\t\t() => {\n\t\t\n\t\t\tif (delay === null) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst id = setInterval(() => savedCallback.current(), delay)\n\n\t\t\treturn () => clearInterval(id)\n\t\t},\n\t\t[ delay ]\n\t)\n}\n\nexport default useInterval","import React, { useEffect, useRef, useState } from \"react\"\nimport \"./App.css\"\nimport GemSymbol from \"./Gem.png\"\nimport useInterval from \"./interval\"\n\nconst canvasX = 1000\nconst canvasY = 1000\nconst initialDragon = [ [ 5, 10 ], [ 5, 10 ] ]\nconst initialGem = [ 14, 10 ]\nconst scale = 50\nconst timeDelay = 100\n\nfunction App() {\n\tconst canvasRef = useRef<HTMLCanvasElement | null>(null)\n\tconst [ dragon, setDragon ] = useState(initialDragon)\n\tconst [ gem, setGem ] = useState(initialGem)\n\tconst [ direction, setDirection ] = useState([ 0, -1 ])\n\tconst [ delay, setDelay ] = useState<number | null>(null)\n\tconst [ gameOver, setGameOver ] = useState(false)\n\tconst [ score, setScore ] = useState(0)\n\n\n\tuseInterval(() => runGame(), delay)\n\n\tuseEffect(\n\t\t() => {\n\t\t\tlet Gem = document.getElementById(\"gem\") as HTMLCanvasElement\n\t\t\tif (canvasRef.current) {\n\t\t\t\tconst canvas = canvasRef.current\n\t\t\t\tconst ctx = canvas.getContext(\"2d\")\n\t\t\t\tif (ctx) {\n\t\t\t\t\tctx.setTransform(scale, 0, 0, scale, 0, 0)\n\t\t\t\t\tctx.clearRect(0, 0, window.innerWidth, window.innerHeight)\n\t\t\t\t\tctx.fillStyle = \"#18d907\"\n\t\t\t\t\tdragon.forEach(([ x, y ]) => ctx.fillRect(x, y, 1, 1))\n\t\t\t\t\tctx.drawImage(Gem, gem[0], gem[1], 1, 1)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[ dragon, gem, gameOver ]\n\t)\n\n\tfunction handleSetScore() {\n\t\tif (score > Number(localStorage.getItem(\"gemScore\"))) {\n\t\t\tlocalStorage.setItem(\"gemScore\", JSON.stringify(score))\n\t\t}\n\t}\n\n\tfunction play() {\n\t\tsetDragon(initialDragon)\n\t\tsetGem(initialGem)\n\t\tsetDirection([ 1, 0 ])\n\t\tsetDelay(timeDelay)\n\t\tsetScore(0)\n\t\tsetGameOver(false)\n\t}\n\n\tfunction checkCollision(head: number[]) {\n\t\tfor (let i = 0; i < head.length; i++) {\n\t\t\tif (head[i] < 0 || head[i] * scale >= canvasX) return true\n\t\t}\n\t\tfor (const s of dragon) {\n\t\t\tif (head[0] === s[0] && head[1] === s[1]) return true\n\t\t}\n\t\treturn false\n\t}\n\n\tfunction gemGet(newDragon: number[][]) {\n\t\tlet coord = gem.map(() => Math.floor(Math.random() * canvasX / scale))\n\t\tif (newDragon[0][0] === gem[0] && newDragon[0][1] === gem[1]) {\n\t\t\tlet newGem = coord\n\t\t\tsetScore(score + 1)\n\t\t\tsetGem(newGem)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tfunction runGame() {\n\t\tconst newDragon = [ ...dragon ]\n\t\tconst newDragonPiece = [ newDragon[0][0] + direction[0], newDragon[0][1] + direction[1] ]\n\t\tnewDragon.unshift(newDragonPiece)\n\t\tif (checkCollision(newDragonPiece)) {\n\t\t\tsetDelay(null)\n\t\t\tsetGameOver(true)\n\t\t\thandleSetScore()\n\t\t}\n\t\tif (!gemGet(newDragon)) {\n\t\t\tnewDragon.pop()\n\t\t}\n\t\tsetDragon(newDragon)\n\t}\n\n\tfunction changeDirection(e: React.KeyboardEvent<HTMLDivElement>) {\n\t\tswitch (e.key) {\n\t\t\tcase \"a\":\n\t\t\t\tsetDirection([ -1, 0 ])\n\t\t\t\tbreak\n\t\t\tcase \"w\":\n\t\t\t\tsetDirection([ 0, -1 ])\n\t\t\t\tbreak\n\t\t\tcase \"d\":\n\t\t\t\tsetDirection([ 1, 0 ])\n\t\t\t\tbreak\n\t\t\tcase \"s\":\n\t\t\t\tsetDirection([ 0, 1 ])\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\treturn (\n\t\t<div onKeyDown={(e) => changeDirection(e)}>\n\t\t\t<img id=\"gem\" src={GemSymbol} alt=\"gem\" width=\"30\" />\n\t\t\t<canvas className=\"playArea\" ref={canvasRef} width={`${canvasX}px`} height={`${canvasY}px`} />\n\t\t\t{gameOver && <div className=\"gameOver\">Game Over</div>}\n\t\t\t<div className=\"title\">Gem Hunter</div>\n\t\t\t<button onClick={play} className=\"playButton\">Start</button>\n\t\t\t<div className=\"scoreBox\">\n\t\t\t\t<h2>Score: {score}</h2>\n\t\t\t\t<h2>Best Score: {localStorage.getItem(\"gemScore\")}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"keyLegend\">\n\t\t\t\t<h2>w: up</h2>\n\t\t\t\t<h2>s: down</h2>\n\t\t\t\t<h2>a: left</h2>\n\t\t\t\t<h2>d: right</h2>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default App\n","export default \"data:image/png;base64,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\"","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}